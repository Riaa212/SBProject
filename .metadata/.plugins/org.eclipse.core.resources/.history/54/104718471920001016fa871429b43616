package com.example.admin.service.impl;

import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.domain.PageRequest;
import org.springframework.stereotype.Service;

import com.example.admin.domain.UserEntity;
import com.example.admin.enums.RoleEnum;
import com.example.admin.proxy.UserProxy;
import com.example.admin.repository.UserRepo;
import com.example.admin.service.UserService;
import com.example.admin.utils.Helper;

@Service
public class UserServiceImpl implements UserService
{
	
	@Autowired	
	private Helper helper;

	@Autowired
	private UserRepo userRepo;
	
	@Override
	public String registerUser( UserProxy user) {
		user.setRole(RoleEnum.User);
		UserEntity userObj = helper.convert(user, UserEntity.class);
		userRepo.save(helper.convert(user, UserEntity.class));
		return "user Register successfully..";
	}

	@Override
	public Page<UserEntity> getAllusers(Integer pageNumber, Integer pageSize) {
//		List<UserEntity> userEntity = userRepo.findAll();
//		return helper.convertList(userEntity, UserProxy.class);
		Page<UserEntity> page = userRepo.findAll(PageRequest.of(pageNumber, pageSize));
		System.err.println("page===>"+page+"\nPage Number==>"+pageNumber+"\nPage Size==>"+pageSize);
		return page;
	}

	
	@Override
	public UserProxy getUserById() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public UserProxy updateUserById(UserProxy user, Integer id) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String deleteUserById(Integer id) {
		// TODO Auto-generated method stub
		return null;
	}

}
